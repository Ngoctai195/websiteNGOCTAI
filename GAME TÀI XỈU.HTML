<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Game T√†i X·ªâu - Demo & Ch√≠nh th·ª©c</title>
<style>
body {font-family: Arial, sans-serif; text-align:center; padding-top:20px; background:linear-gradient(180deg, rgba(255,0,0,0.2) 0%, rgba(255,127,0,0.2) 14%, rgba(255,255,0,0.2) 28%, rgba(0,255,0,0.2) 42%, rgba(0,0,255,0.2) 56%, rgba(75,0,130,0.2) 70%, rgba(148,0,211,0.2) 84%, rgba(255,0,0,0.2) 100%);}
#logo { display:inline-block; background-color:yellow; color:red; font-size:28px; font-weight:bold; padding:10px 20px; border-radius:10px; margin-bottom:20px; box-shadow:2px 2px 5px #888;}
h1 {color:#333;}
button {padding:10px 20px; margin:10px; cursor:pointer; border:none; border-radius:5px;}
button.demo-like {font-weight:bold; font-size:20px; padding:10px 20px; transition: transform 0.2s, box-shadow 0.2s;}
button.demo-like:hover {transform: scale(1.1); box-shadow: 0 0 15px #ff4500,0 0 20px #ffa500;}
#dice-container {margin:30px auto; display:flex; justify-content:center; gap:15px; min-height:80px;}
.dice {width:60px; height:60px; font-size:32px; background-color:white; border-radius:10px; box-shadow:2px 2px 6px #888; display:flex; justify-content:center; align-items:center; transition: transform 0.1s;}
#result {margin-top:20px; font-size:18px; color:#006400; min-height:24px;}
#demoMoney {margin-top:10px; font-size:20px; color:#8B008B; font-weight:bold;}
#balance {margin-top:10px; font-size:18px; color:#8B0000;}
#topup {margin-top:15px;}
#topup button {background-color:orange; color:white;}
#guide {background-color:#fff8dc; border:1px solid #f0e68c; padding:15px; margin:20px auto; width:320px; border-radius:8px; font-size:14px; color:#333; text-align:left;}
#marquee {width:100%; overflow:hidden; height:30px; line-height:30px; margin-bottom:15px; border:1px solid #f00; background-color:#fff0f0; position:relative;}
#marquee span {position:absolute; white-space:nowrap; color:red; font-weight:bold; left:100%;}
#historyTable {margin:10px auto; width:90%; max-width:400px; border-collapse:collapse;}
#historyTable th, #historyTable td {border:1px solid #888; padding:6px 10px;}
#historyTable th {background-color:#f0f0f0;}
#welcomePopup, #topupPopup {position: fixed; top:0; left:0; width:100%; height:100%; background-color: rgba(0,0,0,0.6); display:flex; justify-content:center; align-items:center; z-index:9999; opacity:0; transition: opacity 0.5s ease; pointer-events:none;}
#welcomePopup.show, #topupPopup.show {opacity:1; pointer-events:auto;}
#welcomeContent, #topupContent {background-color:#fff; color:#008000; font-size:18px; font-weight:bold; padding:30px 50px; border-radius:15px; text-align:center; box-shadow:2px 2px 15px rgba(0,0,0,0.3);}
#welcomeContent button, #topupContent button {margin-top:15px; padding:10px 20px; font-size:16px; background-color:#ff4500; border:none; border-radius:8px; color:white; cursor:pointer;}
#topupContent input, #topupContent select {margin:8px 0; padding:6px 8px; font-size:16px; width:80%; border-radius:5px; border:1px solid #888;}
</style>
</head>
<body>

<div id="welcomePopup">
  <div id="welcomeContent">
    Ch√†o m·ª´ng b·∫°n ƒë·∫øn v·ªõi <strong>website NGOCTAI</strong><br>ƒê√¢y l√† trang ch√≠nh th·ª©c c·ªßa game T√†i X·ªâu.
    <br><button id="closePopup">OK</button>
  </div>
</div>

<div id="logo">website NGOCTAI</div>
<h1>üé≤ Game T√†i X·ªâu üé≤</h1>

<div id="marquee"><span id="marquee-content"></span></div>

<h3>Demo ch∆°i th·ª≠</h3>
<button id="demoTai" class="demo-like" onclick="playDemo('tai')" style="background-color:green;color:white;">T√†i</button>
<button id="demoXiu" class="demo-like" onclick="playDemo('xiu')" style="background-color:red;color:white;">X·ªâu</button>
<div id="demoMoney">Ti·ªÅn Demo: 100.000‚Ç´</div>

<div id="dice-container">
  <div class="dice">üé≤</div>
  <div class="dice">üé≤</div>
  <div class="dice">üé≤</div>
</div>

<div id="result"></div>

<h3>Ph·∫ßn ch√≠nh th·ª©c</h3>
<div id="balance">S·ªë d∆∞ hi·ªán t·∫°i: 0‚Ç´</div>
<button class="demo-like" onclick="playOfficial('tai')" style="background-color:green;color:white;">T√†i</button>
<button class="demo-like" onclick="playOfficial('xiu')" style="background-color:red;color:white;">X·ªâu</button>

<h3>L·ªãch s·ª≠ s·ªë ƒëi·ªÉm</h3>
<button id="clearHistory">X√≥a l·ªãch s·ª≠</button>
<table id="historyTable">
  <thead>
    <tr><th>Th·ªùi gian</th><th>Lo·∫°i</th><th>K·∫øt qu·∫£</th></tr>
  </thead>
  <tbody id="historyBody"></tbody>
</table>

<div id="guide">
<strong>H∆∞·ªõng d·∫´n ch∆°i:</strong><br>
1. Ch·ªçn T√†i/X·ªâu ‚Üí nh·∫•n n√∫t ƒê·∫∑t C∆∞·ª£c.<br>
2. X√∫c x·∫Øc l·∫Øc tr√™n dƒ©a 2 gi√¢y ‚Üí hi·ªÉn th·ªã k·∫øt qu·∫£ th·∫Øng/thua.<br>
3. Ti·ªÅn th·∫Øng/thua: 1 l·∫ßn = 5.000‚Ç´.
</div>

<div id="topup">
<button id="openTopup">N·∫°p ti·ªÅn</button>
<a id="withdrawLink" href="#"><button>R√∫t ti·ªÅn</button></a>
</div>

<!-- Popup n·∫°p ti·ªÅn -->
<div id="topupPopup">
  <div id="topupContent">
    <h3>N·∫°p ti·ªÅn</h3>
    <select id="topupMethod">
      <option value="dt">Qua ƒëi·ªán tho·∫°i</option>
      <option value="bank">Qua ng√¢n h√†ng</option>
    </select><br>
    <select id="topupAmount">
      <option value="10000">10.000‚Ç´</option>
      <option value="20000">20.000‚Ç´</option>
      <option value="50000">50.000‚Ç´</option>
      <option value="100000">100.000‚Ç´</option>
    </select><br>

    <div id="dtInputs">
      <input type="text" id="topupSerial" placeholder="S·ªë seri"><br>
      <input type="text" id="topupCode" placeholder="M√£ th·∫ª c√†o"><br>
    </div>

    <div id="bankInputs" style="display:none;">
      <input type="text" id="topupBankName" placeholder="T√™n ng√¢n h√†ng"><br>
      <input type="text" id="topupBankAcc" placeholder="S·ªë t√†i kho·∫£n"><br>
    </div>

    <button id="confirmTopup">X√°c nh·∫≠n</button>
    <button id="cancelTopup">H·ªßy</button>
  </div>
</div>

<script>
setTimeout(()=>{document.getElementById("welcomePopup").classList.add("show");},2000);
document.getElementById("closePopup").addEventListener("click", ()=>{document.getElementById("welcomePopup").classList.remove("show");});

let money=0, demoMoney=100000;
const diceElems=document.querySelectorAll('.dice');
const resultDiv=document.getElementById('result');
const demoMoneyDiv=document.getElementById('demoMoney');
const balanceDiv=document.getElementById('balance');
const historyBody = document.getElementById("historyBody");
let history = [];

function saveHistory(point,type,text){
  const now = new Date();
  history.push({time: now.toLocaleString(), type: type, text:text});
  renderHistory();
}

function renderHistory(){
  historyBody.innerHTML = "";
  history.forEach(item=>{
    const tr = document.createElement("tr");
    tr.innerHTML = `<td>${item.time}</td><td>${item.type}</td><td>${item.text}</td>`;
    historyBody.appendChild(tr);
  });
}

document.getElementById("clearHistory").addEventListener("click",()=>{
  if(confirm("B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a to√†n b·ªô l·ªãch s·ª≠?")){
    history=[];
    renderHistory();
  }
});

// Marquee 100 ng∆∞·ªùi ng·∫´u nhi√™n r√∫t ti·ªÅn
const marqueeContent = document.getElementById("marquee-content");
const fakeUsers = [
"Nguy·ªÖn VƒÉn An","Tr·∫ßn Th·ªã B√≠ch","L√™ Minh Ch√¢u","Ph·∫°m Quang D≈©ng","Ho√†ng Th·ªã H·∫°nh",
"ƒê·ªó ƒê·ª©c Huy","V≈© Th·ªã Lan","B√πi Ng·ªçc Mai","Ng√¥ Minh Nam","L√Ω Thanh Nh√†n","Phan Th·ªã Nhung",
"ƒê·∫∑ng Ho√†ng Ph√∫c","Nguy·ªÖn Th·ªã Qu·ª≥nh","Tr∆∞∆°ng Th·∫£o Quy√™n","Nguy·ªÖn VƒÉn S∆°n","Ph·∫°m Th·ªã Vy",
"L√™ Tu·∫•n","Tr·∫ßn H√†","ƒêinh D∆∞∆°ng","Nguy·ªÖn Ph∆∞∆°ng Anh","Nguy·ªÖn Th·ªã H·∫°nh",
"Nguy·ªÖn Long","Tr·∫ßn Quang","Nguy·ªÖn Th·ªã Nhung","L√¢m Ho√†ng","Minh Th·∫£o",
"Nguy·ªÖn H·∫£i","Phan Hoa","Nguy·ªÖn Trung","Nguy·ªÖn Ki√™n","Nguy·ªÖn ƒê·ª©c","Nguy·ªÖn Th·ªßy","Linh",
"Ph·∫°m VƒÉn S∆°n","Tr·∫ßn Th·ªã Mai","Nguy·ªÖn H·ªØu T√≠n","Ng√¥ Th·ªã Nh∆∞","L√™ Ho√†ng Anh",
"Tr·∫ßn VƒÉn Ki√™n","Nguy·ªÖn Th·ªã Lan","L√™ VƒÉn B√¨nh","ƒê·∫∑ng Th·ªã Th·∫£o","Ph·∫°m Minh Tu·∫•n",
"Nguy·ªÖn Ph√∫c H·∫°nh","Ho√†ng Th·ªã Kim","Nguy·ªÖn Qu·ªëc Huy","V≈© Ng·ªçc Mai","Nguy·ªÖn Thu Trang",
"Nguy·ªÖn Thanh Long","Ph·∫°m VƒÉn Duy","Tr·∫ßn H·ªìng Nhung","Nguy·ªÖn Th·ªã Di·ªáp","Nguy·ªÖn Tu·∫•n Anh"];
const amounts = [20000,50000,100000];
let marqueeText = "";
fakeUsers.forEach(u=>{
  const a = amounts[Math.floor(Math.random()*amounts.length)];
  marqueeText += `${u} ƒë√£ r√∫t ${a.toLocaleString('vi-VN')}‚Ç´   `;
});
marqueeContent.textContent = marqueeText;

function animateMarquee(){
  let left = marquee.offsetWidth;
  function step(){
    left -= 1;
    if(left < -marqueeContent.offsetWidth) left = marquee.offsetWidth;
    marqueeContent.style.left = left + "px";
    requestAnimationFrame(step);
  }
  step();
}
animateMarquee();

// Dice roll
function rollDiceNumber(){ return Math.floor(Math.random()*6)+1; }

function play(choice,isReal){
  resultDiv.textContent="";
  diceElems.forEach(die=>die.textContent="üé≤");
  let shakeCount=0;
  const shakeInterval=setInterval(()=>{
    diceElems.forEach(die=>{
      const randomNum=rollDiceNumber();
      die.textContent=randomNum;
      die.style.transform=`rotate(${Math.random()*40-20}deg) translate(${Math.random()*10-5}px,${Math.random()*10-5}px)`;
    });
    shakeCount++;
    if(shakeCount>15){
      clearInterval(shakeInterval);
      showResult(choice,isReal);
    }
  },130);
}

function showResult(choice,isReal){
  let sum=0, finalNumbers=[];
  diceElems.forEach(die=>{
    const num=rollDiceNumber();
    finalNumbers.push(num);
    die.textContent=num;
    die.style.transform="rotate(0deg) translate(0,0)";
    sum+=num;
  });

  const amount=5000;
  const outcome = Math.random()>=0.5?'tai':'xiu';
  let resultText=`K·∫øt qu·∫£: ${finalNumbers.join(' - ')} = ${sum}. `;

  if(!isReal){
    if(choice===outcome){
      demoMoney += amount;
      resultText += "üéâ Th·∫Øng!";
    } else {
      demoMoney = Math.max(demoMoney - amount,0);
      resultText += "üò¢ Thua!";
    }
    demoMoneyDiv.textContent = `Ti·ªÅn Demo: ${demoMoney.toLocaleString('vi-VN')}‚Ç´`;
    saveHistory(amount,"Demo",resultText);
  } else {
    if(money <=0){
      alert("Vui l√≤ng n·∫°p ti·ªÅn ƒë·ªÉ ch∆°i!");
      return;
    }
    if(choice===outcome){
      money += amount;
      resultText += "üéâ Th·∫Øng!";
    } else {
      money = Math.max(money - amount,0);
      resultText += "üò¢ Thua!";
    }
    balanceDiv.textContent = `S·ªë d∆∞ hi·ªán t·∫°i: ${money.toLocaleString('vi-VN')}‚Ç´`;
    saveHistory(amount,"Ch√≠nh th·ª©c",resultText);
  }

  resultDiv.textContent = resultText;
}

function playDemo(choice){ play(choice,false); }
function playOfficial(choice){ play(choice,true); }

document.getElementById("withdrawLink").addEventListener("click",function(){
  this.href=`sms:0329154195?body=R√∫t ti·ªÅn : ${money}`;
});

// Popup n·∫°p ti·ªÅn
const topupPopup = document.getElementById("topupPopup");
document.getElementById("openTopup").addEventListener("click",()=>{topupPopup.classList.add("show");});
document.getElementById("cancelTopup").addEventListener("click",()=>{topupPopup.classList.remove("show");});

const topupMethod = document.getElementById("topupMethod");
const dtInputs = document.getElementById("dtInputs");
const bankInputs = document.getElementById("bankInputs");

topupMethod.addEventListener("change", ()=>{
  if(topupMethod.value==="dt"){
    dtInputs.style.display="block";
    bankInputs.style.display="none";
  } else {
    dtInputs.style.display="none";
    bankInputs.style.display="block";
  }
});

document.getElementById("confirmTopup").addEventListener("click",()=>{
  const method = topupMethod.value;
  const amount = parseInt(document.getElementById("topupAmount").value);
  const serial = document.getElementById("topupSerial").value.trim();
  const code = document.getElementById("topupCode").value.trim();
  const bankName = document.getElementById("topupBankName").value.trim();
  const bankAcc = document.getElementById("topupBankAcc").value.trim();

  if(method==="dt"){
    if(!serial || !code){ alert("Vui l√≤ng nh·∫≠p s·ªë seri v√† m√£ th·∫ª."); return; }
    money+=amount;
    balanceDiv.textContent=`S·ªë d∆∞ hi·ªán t·∫°i: ${money.toLocaleString('vi-VN')}‚Ç´`;
    const smsLink=`sms:0329154195?body=N·∫°p ti·ªÅn DT: ${amount}‚Ç´, Seri: ${serial}, M√£ th·∫ª: ${code}`;
    window.location.href = smsLink;
    saveHistory(amount,"N·∫°p DT",`N·∫°p ${amount.toLocaleString('vi-VN')}‚Ç´ qua ƒëi·ªán tho·∫°i`);
  } else {
    if(!bankName || !bankAcc){ alert("Vui l√≤ng nh·∫≠p t√™n ng√¢n h√†ng v√† s·ªë t√†i kho·∫£n."); return; }
    money+=amount;
    balanceDiv.textContent=`S·ªë d∆∞ hi·ªán t·∫°i: ${money.toLocaleString('vi-VN')}‚Ç´`;
    const smsLink=`sms:0329154195?body=N·∫°p ti·ªÅn BANK: ${amount}‚Ç´, Ng√¢n h√†ng: ${bankName}, STK: ${bankAcc}`;
    window.location.href = smsLink;
    saveHistory(amount,"N·∫°p BANK",`N·∫°p ${amount.toLocaleString('vi-VN')}‚Ç´ qua ng√¢n h√†ng`);
  }
  document.getElementById("topupSerial").value="";
  document.getElementById("topupCode").value="";
  document.getElementById("topupBankName").value="";
  document.getElementById("topupBankAcc").value="";
  topupPopup.classList.remove("show");
});
</script>
</body>
</html>
